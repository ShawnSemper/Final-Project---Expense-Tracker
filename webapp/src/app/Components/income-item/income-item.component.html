<h5 class="display-4">Log New Income</h5>
<hr>
<form #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
    <div class="form-row">
        <div class="form-group col-md-12">
            <mat-form-field>
                <mat-label>Income category</mat-label>
                <mat-select [(ngModel)]="formDataIncome.category" name="category" #category="ngModel" required>
                    <mat-option value="Salary">Salary</mat-option>
                    <mat-option value="Investment Income">Investment Income</mat-option>
                    <mat-option value="Bonus">Bonus</mat-option>
                    <mat-option value="Refund">Refund</mat-option>
                    <mat-option value="Side Money">Side Money</mat-option>
                    <mat-option value="Loan">Loan</mat-option>
                    <mat-option value="Other">Other</mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        
        <input type="hidden" name="id" #id="ngModel" [(ngModel)]="formDataIncome._id">
    </div>

    <div class="form-row">
        <div class="form-group col-md-12">
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Income Description" name="description" type="text" [(ngModel)]="formDataIncome.description" #description="ngModel"
                       required minlength="1">
            </mat-form-field>
              <div *ngIf="description.errors && (description.dirty || description.touched)" class="alert alert-danger">
                <small>Description is required.</small>
              </div>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-md-5">
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Income Amount ($)" type="number" min="1" name="amount" [(ngModel)]="formDataIncome.amount" #amount="ngModel" required>
            </mat-form-field>
            <div *ngIf="amount.errors && (amount.dirty || amount.touched)" class="alert alert-danger">
                <small>Amount is required (positive amount, max 2 decimal places).</small>
            </div>
        </div>

        <div class="form-group col-md-5" style="display: flex">
            <!-- Enable angular material datePicker -->
            <mat-form-field class="example-full-width">
                <input matInput [matDatepicker]="picker" placeholder="Choose a date" [(ngModel)]="formDataIncome.Date" name="Date" #date="ngModel" required>       
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker touchUi #picker></mat-datepicker> 
            </mat-form-field>    
        </div>
    </div>

    <div class="modal-footer">
        <button type="submit" class="btn btn-primary " [disabled]="!form.valid" style="margin-right: 5px;">SAVE CHANGES</button>
        <button type="button" class="btn btn-secondary float-right " (click)="close()">CLOSE</button>
    </div>
</form>

