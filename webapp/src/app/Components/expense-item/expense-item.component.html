<h5 class="display-4">Log New Expense</h5> 
<hr>
<form #form="ngForm" autocomplete="off" (submit)="onSubmit(form)">
    <div class="form-row">
        <div class="form-group col-md-12">
            <mat-form-field>
                <mat-label>Expense category</mat-label>
                <mat-select [(ngModel)]="formDataExpense.category" name="category" #category="ngModel" required>
                    <mat-option value="Travel">Travel</mat-option>
                    <mat-option value="Shopping">Shopping</mat-option>
                    <mat-option value="Rent">Rent</mat-option>
                    <mat-option value="Dining">Dining</mat-option>
                    <mat-option value="Medical">Medical</mat-option>
                    <mat-option value="Mobile/Internet bill">Mobile/Internet bill</mat-option>
                    <mat-option value="Other">Other</mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        
        <input type="hidden" name="id" #id="ngModel" [(ngModel)]="formDataExpense._id">
    </div>

    <div class="form-row">
        <div class="form-group col-md-12">
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Expense Description" name="description" type="text" [(ngModel)]="formDataExpense.description" #description="ngModel"
                       required minlength="1">
            </mat-form-field>
              <div *ngIf="description.errors && (description.dirty || description.touched)" class="alert alert-danger">
                <small>Description is required.</small>
              </div>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-md-5">
            <!-- <input type="number" name="amount" class="form-control" #amount="ngModel" [(ngModel)]="formDataExpense.amount" placeholder="Expense Amount" required> -->
            <mat-form-field class="example-full-width">
                <input matInput placeholder="Expense Amount ($)" type="number" min="1" name="amount" [(ngModel)]="formDataExpense.amount" #amount="ngModel" required>
            </mat-form-field>
            <div *ngIf="amount.errors && (amount.dirty || amount.touched)" class="alert alert-danger">
                <small>Amount is required (positive amount, max 2 decimal places).</small>
            </div>
        </div>

        <div class="form-group col-md-5" style="display: flex">
            <!-- Enable angular material datePicker -->
            <mat-form-field class="example-full-width">
                <input matInput [matDatepicker]="picker" placeholder="Choose a date" [(ngModel)]="formDataExpense.Date" name="Date" #date="ngModel" required>       
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker touchUi #picker></mat-datepicker> 
            </mat-form-field>    
        </div>
    </div>

    <div class="modal-footer">
        <button type="submit" class="btn btn-primary " [disabled]="!form.valid" style="margin-right: 5px;">SAVE CHANGES</button>
        <button type="button" class="btn btn-secondary float-right " (click)="close()">CLOSE</button>
    </div>
</form>

